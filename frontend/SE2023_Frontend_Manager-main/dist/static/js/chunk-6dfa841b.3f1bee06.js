(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6dfa841b"],{3204:function(t,e,a){},"4bcd":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-card",{attrs:{bordered:!1}},[a("a-list",{attrs:{"item-layout":"vertical",size:"large",pagination:t.pagination,"data-source":t.listData},scopedSlots:t._u([{key:"renderItem",fn:function(e){return a("a-list-item",{key:"item.title"},[a("a-space",{staticStyle:{"margin-right":"20px"},attrs:{slot:"extra",direction:"vertical",width:"272",align:"end"},slot:"extra"},[a("a-row",[a("a-col",{attrs:{span:24}},[a("a-button",{staticStyle:{width:"80px"},attrs:{type:"text"},on:{click:function(a){return t.handleShow(e.id)}}},[t._v(" 查看 ")])],1)],1),a("a-row",[a("a-col",{attrs:{span:24}},[a("a-popconfirm",{attrs:{title:"确定通过认证吗？","ok-text":"确定","cancel-text":"取消"},on:{confirm:function(a){return t.handleApply(e.id)}}},[a("a-button",{staticStyle:{width:"80px"},attrs:{type:"primary"}},[t._v(" 通过")])],1)],1)],1),a("a-row",[a("a-col",{attrs:{span:24}},[a("a-popconfirm",{attrs:{title:"确定要拒绝认证吗？","ok-text":"确定","cancel-text":"取消"},on:{confirm:function(a){return t.handleRefuse(e.id)}}},[a("a-button",{staticStyle:{width:"80px"},attrs:{type:"danger"}},[t._v(" 拒绝")])],1)],1)],1)],1),a("a-modal",{attrs:{title:"",width:"750px"},on:{ok:t.handleOk},model:{value:t.showDetail,callback:function(e){t.showDetail=e},expression:"showDetail"}},[t.showDetail?a("EnterpriseCard",t._b({},"EnterpriseCard",t.post,!1)):t._e()],1),a("a-list-item-meta",{attrs:{description:e.create_time}},[a("a",{attrs:{slot:"title",href:e.href},slot:"title"},[t._v(t._s(e.username))]),a("a-avatar",{attrs:{slot:"avatar",src:e.userpic},slot:"avatar"})],1),a("a",{staticClass:"textbreak",staticStyle:{display:"block"},attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.handleShow(e.id)}}},[t._v("企业简介："+t._s(t._f("ellipsis")(e.profile))+" ")])],1)}}])})],1)],1)},i=[],r=a("c7eb"),s=a("1da1"),o=(a("fb6a"),a("14d9"),a("b0c0"),a("99af"),a("b775")),l=a("7424"),c=function(){return Object(o["f"])(l["EnterpriseAll"],o["a"].GET)},d=function(t,e){var a="".concat(l["BASE_URL_IP"],"/api/enterprise/getinfo/").concat(t);return Object(o["f"])(a,e)},p=function(t,e){var a="".concat(l["BASE_URL_IP"],"/api/enterprise/agree/").concat(t);return Object(o["f"])(a,e)},u=function(t,e){var a="".concat(l["BASE_URL_IP"],"/api/enterprise/refuse/").concat(t);return Object(o["f"])(a,e)},f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-card",{attrs:{bordered:!1,"dis-hover":""}},[a("div",{attrs:{slot:"name"},slot:"name"},[t._v(" 申请人： "),a("a",{attrs:{href:"javascript:0"}},[t._v(t._s(this.$props.name))])]),a("a-Row",[t._v(" 企业名称: "+t._s(t.name)+" ")]),a("br"),a("a-Row",[t._v(" 地址: "+t._s(t.address)+" ")]),a("br"),a("a-Row",[t._v(" 企业网址: "+t._s(t.website)+" ")]),a("br"),a("a-Row",[t._v(" 联系电话："+t._s(t.phone)+" ")]),a("br"),a("a-Row",[t._v(" 法人代表: "+t._s(t.legal_representative)+" ")]),a("br"),a("a-Row",[t._v(" 领域: "+t._s(t.field)+" ")]),a("br"),a("a-Row",[t._v(" 企业简介: "+t._s(t.instruction)+" ")]),a("br"),a("a-Row",[t._v(" 营业执照："),a("img",{attrs:{src:t.business_license,width:"600px"}})]),a("br"),a("a-Row",[t._v(" 法人身份证："),a("img",{attrs:{src:t.legal_person_ID,width:"600px"}})])],1)],1)},_=[],h={name:"EnterpriseCard",props:{name:{type:String,default:"未命名"},address:{type:String,default:"未命名"},website:{type:String,default:"未命名"},instruction:{type:String,default:"未命名"},phone:{type:String,default:"未命名"},legal_representative:{type:String,default:"未命名"},register_capital:{type:String,default:"未命名"},field:{type:String,default:"未命名"},business_license:{type:String,default:"未命名"},legal_person_ID:{type:String,default:"未命名"}}},v=h,g=a("2877"),b=Object(g["a"])(v,f,_,!1,null,"2a57ea59",null),w=b.exports,m={name:"EnterpriseList",components:{EnterpriseCard:w},filters:{ellipsis:function(t){return t?t.length>130?t.slice(0,130)+"...":t:""}},data:function(){return{loading:!0,pageIndex:1,data:[],post:{},showDetail:!1,pagination:{onChange:function(t){},pageSize:10},listData:[]}},mounted:function(){this.init()},inject:["reload"],methods:{init:function(){var t=Object(s["a"])(Object(r["a"])().mark((function t(){return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.loadPost();case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),loadPost:function(){var t=this;this.loading=!0,c().then((function(e){t.listData.length=0,t.listData=[];for(var a=0;a<e.data.length;a++)t.listData.push({id:e.data[a].id,username:e.data[a].username,userpic:l["BASE_URL_IP"]+"/api/"+e.data[a].userpic,nickname:e.data[a].nickname,email:e.data[a].email,institution:e.data[a].institution,usertype:e.data[a].usertype,total_post:e.data[a].total_post,total_like:e.data[a].total_like,total_fan:e.data[a].total_fan,type:e.data[a].type,profile:e.data[a].profile,create_time:"申请时间："+e.data[a].create_time});t.loading=!1})).catch((function(t){}))},handleOk:function(t){this.showDetail=!1},handleShow:function(t){var e=this;d(t,"get").then((function(t){e.post={name:t.data.name,address:t.data.address,website:t.data.website,instruction:t.data.instruction,phone:t.data.phone,legal_representative:t.data.legal_representative,register_capital:t.data.register_capital,field:t.data.field,business_license:l["BASE_URL_IP"]+"/api/"+t.data.business_license,legal_person_ID:l["BASE_URL_IP"]+"/api/"+t.data.legal_person_ID},e.showDetail=!0})).catch((function(t){}))},handleRefuse:function(t){var e=this;u(t,"get").then((function(t){e.reload()})).catch((function(t){e.reload()}))},handleApply:function(t){var e=this;p(t,"get").then((function(t){e.reload()})).catch((function(t){e.reload()}))}}},y=m,S=(a("9968"),Object(g["a"])(y,n,i,!1,null,"ca2d473a",null));e["default"]=S.exports},9968:function(t,e,a){"use strict";a("3204")}}]);