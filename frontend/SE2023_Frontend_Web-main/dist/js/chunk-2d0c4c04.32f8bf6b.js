(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c4c04"],{"3bba":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("Row",[e("i-col",{attrs:{offset:"4",span:"15"}},[e("Card",[e("Tabs",{attrs:{span:"15"},on:{"on-click":t.changeTab},model:{value:t.activeTab,callback:function(a){t.activeTab=a},expression:"activeTab"}},[e("TabPane",{attrs:{label:"热榜",name:"recommend"}},[0!==t.items.length?[t._l(t.items,(function(a,i){return e("div",{key:a.id},[e("Row",[e("i-col",{attrs:{span:"1"}},[t._v("\n                    "+t._s(i+1)+":\n                  ")]),e("i-col",{attrs:{span:"4"}},[t._v("\n                    "+t._s("论文解读")+":\n                  ")]),e("i-col",{staticClass:"title",attrs:{span:"11"}},[e("editor",{domProps:{innerHTML:t._s(a.title)}})],1),e("i-col",{attrs:{offset:"4",span:"4"}},[e("i-button",{staticStyle:{width:"80px"},attrs:{type:"info"},on:{click:function(e){return t.handleShow(a.id,a.type)}}},[t._v("\n                      查看详情\n                    ")])],1)],1),e("Divider"),e("Modal",{attrs:{"footer-hide":"",width:"720"},model:{value:t.showDetail,callback:function(a){t.showDetail=a},expression:"showDetail"}},[t.showDetail?e("PaperCard",t._b({},"PaperCard",t.data,!1)):t._e()],1)],1)})),t.loading?e("Row",[e("i-col",{staticClass:"demo-spin-col",attrs:{offset:"8",span:"8"}},[e("Spin",{attrs:{fix:""}},[e("Icon",{staticClass:"demo-spin-icon-load",attrs:{type:"ios-loading",size:"18"}}),e("div",[t._v("Loading")])],1)],1)],1):t._e()]:[e("Row",[e("i-col",{staticClass:"demo-spin-col",attrs:{offset:"8",span:"8"}},[e("Spin",{attrs:{fix:""}},[e("Icon",{staticClass:"demo-spin-icon-load",attrs:{type:"ios-loading",size:"18"}}),e("div",[t._v("Loading")])],1)],1)],1)]],2)],1)],1)],1)],1)},n=[],o=(e("ac6a"),e("75fc")),s=(e("7f7f"),e("8700")),c=e("6c49"),r=e("c24f"),d=e("704c"),l=e("c276"),h=e("dac0"),u={name:"home",components:{PaperCard:s["a"],editor:h["a"]},data:function(){return{activeTab:"recommend",knowledgeType:"micro-evidence",selectTagList:[],tagSearch:"",tagList:[],pageIndex:1,hasNextPage:!0,items:[],pageSize:15,idList:[],loading:!0,showDetail:!1,indec:0}},mounted:function(){var t=this;Object(d["c"])("get",{pindx:1,num_per_page:99,presupposed:!0}).then((function(a){t.tagList=a.data.page.map((function(t){return{value:t.name,label:t.name}}))})).catch((function(t){console.log(t)})),this.loadData()},methods:{loadData:function(){var t=this;Object(d["d"])().then((function(a){var e,i=a.data.map((function(t){return{id:t.id,creator:t.created_by,title:t.title,createAt:Object(l["e"])(t.created_at),publishedYear:t.published_year,content:t.content,tags:t.tags,isLike:t.is_like,favorNumber:t.favor_num,source:t.source,citation:t.citation,commentNumber:t.commentNum,kind:1}}));(e=t.items).push.apply(e,Object(o["a"])(i)),t.loading=!1})).catch((function(a){console.log(a),t.$Modal.error(Object(l["c"])(a))}))},loadFavor:function(){var t=this;this.loading=!0,Object(r["p"])({pindex:this.pageIndex,num_per_page:this.pageSize,micro_evidence:!0,micro_conjecture:!0}).then((function(a){var e,i=a.data.page.map((function(t){return{id:t.id,creator:t.created_by,kind:t.type-1,createAt:Object(l["e"])(t.created_at),publishedYear:t.published_year,content:t.content,tags:t.tags,isLike:t.is_like,isCollect:t.is_favor,likeNumber:t.like_num,favorNumber:t.favor_num,displayType:0,source:t.source,citation:t.citation,evidences:t.evidences}}));(e=t.items).push.apply(e,Object(o["a"])(i)),t.hasNextPage=a.data.has_next,t.loading=!1})).catch((function(a){t.$Modal.error(Object(l["c"])(a))}))},selectType:function(t){this.knowledgeType=t,this.pageIndex=1,this.items=[],this.idList=[],this.loadData()},handleShow:function(t,a){var e=this;Object(c["a"])(t,a,"get").then((function(t){e.data={id:t.data.id,creator:t.data.created_by,kind:1,source:t.data.source,citation:t.data.citation,title:t.data.title,createAt:Object(l["e"])(t.data.created_at),content:t.data.content,tags:t.data.tags,isLike:t.data.is_like,isCollect:t.data.is_favor,likeNumber:t.data.like_num,favorNumber:t.data.favor_num,publishedYear:t.data.published_year,commentNumber:t.data.commentNum},e.showDetail=!0})).catch((function(t){e.$Modal.error(Object(l["c"])(t))}))},changeTag:function(t){var a=this;this.selectTagList=t,this.tagSearch="",t.forEach((function(t){a.tagSearch+=t+" "})),this.tagSearch=this.tagSearch.trim(),this.pageIndex=1,this.items=[],this.idList=[],this.loadData()},loadMoreData:function(){this.pageIndex+=1,"favorite"===this.activeTab?this.loadFavor():this.loadData()},changeTab:function(t){this.activeTab=t,this.pageIndex=1,this.items=[],this.idList=[],"favorite"===this.activeTab?this.loadFavor():this.loadData()}}},p=u,m=e("2877"),f=Object(m["a"])(p,i,n,!1,null,null,null),b=f.exports;a["default"]=b}}]);